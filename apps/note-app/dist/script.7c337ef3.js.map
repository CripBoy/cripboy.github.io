{"version":3,"sources":["../../core/router.js","../../core/app.js","../../core/component.js","../../core/index.js","pages/main.js","script/index.js","../../../../../AppData/Local/Yarn/Data/global/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../../../AppData/Local/Yarn/Data/global/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["router","stack","Map","initialHash","updateDOMlist","document","querySelectorAll","forEach","el","onclick","anchorHandler","updateURL","window","location","pathname","event","preventDefault","path","currentTarget","href","toLowerCase","hash","linkExternal","startsWith","hostname","querySelector","scrollIntoView","url","bufferEl","createElement","checkHash","emiter","keys","key","substring","length","get","slice","add","routeName","callback","split","route","param","set","onload","page","update","app","events","__root","addObserver","eventName","indexOf","setRoot","rootEl","render","element","innerHTML","init","sender","root","on","component","context","create","customCtx","Object","assign","core","main","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","match","getBaseURL","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","remove","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","i","module"],"mappings":"AMAA,ACAA,IDAIuE,ACAAU,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCSV,ACCAW,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDCd,MCCM,GDDX,ACCca,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEf,ADDJ,ICCIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADY,EAAAA,OAAO,CAACxC,MAAR,GAAiB,YAAY;AAC3BuC,IAAAA,IAAI,CAACG,MAAL;ADCF,ACAC,ANNH,ACAA,ACAA,ACAA,GGIE,CNJEvC,ACAAe,GDAG,EKMEQ,CLNC,GCAG,GAAG,EIMd,ILLF,MCAA;AIMC,ALLA,ACAA,AGDD,MJCKtE,KAAK,GAAG,IAAIC,GAAJ,EAAZ;AMKCmF,ANJD,AEFD,ACAA,ACGA,EEGEA,INJGpC,GMII,CAAC9B,ENJC,EMIT,CNJY,CAAC,CMIEiE,IAAI,CAACjE,ENJR,CAAb,CMIgB,CAAUsB,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgC+C,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDEL,ALJD,EKICA,EFHGpC,EEGC,ALJDgB,CKIE0B,EDCEjB,CDJWJ,GHDR,GAAG,CKIb,CAAgBsB,ALJjB,GIKD,GAAwB,ADJnB3C,MEGH,CAA6BqC,OAA7B,EAAsCD,IAAI,CAACQ,WAA3C;ADEA,ACDD,ANLA,AEFD,IEGU5F,EJDLkD,MAAJ,CICmBmB,cAAVrE;ACMR,AJLDgE,AGADhE,EHACgE,IIKK,ADLA,CAAClB,EHAC,CAACmB,CGAT,CAAY,GAAZ,CHAC,CGAgB,EHAC,UAASC,SAAT,EACjB;AIKG,ACDJ,ANLC,ACECC,AELFJ,ACGiB,IEKb8B,ALHF1B,KGFqBnB,CCMb,AJJF,CDFEG,ACEDiB,CGFiB,CAACZ,CCMbkB,ACDA,GAAG,ALHf,CAAcV,CIIN,AFTAC,ACGa,CAAWK,CCM9B,ACDJ,CNLC,CAAqBlB,ECEpB,AELF,CAAiB,CFKQc,KDFxB,CIAsB,CJAU1B,AIAhB,EHEf,MDFD,EACA;AKME,ALLD,ACCA,AELDmB,ACEgB,CAAjB,CDFCA,CEOC,AJLD,CIOG,ADLJ,EDJK,EHIAV,AGJE,GESI0B,GAAP,ALLO,CAACtB,CKKI,MLLX,CAAeD,CGHnB,CAEC,CAJe,MHKZ,CAAH,EACC;AKKC,ACFJ,ANDEnD,ACAD,AFXD,AISCuD,EAAAA,EHECvD,ADXED,IMcI4E,AFLD,CGGEkB,ANDF,CAAClD,ADXE,AISD,GHEP,ADXW,CCWDQ,CKGG,AHVA,GGUG,ACFlB,CDEmB,ECFE,ENDnB,CKGsBuB,CLHDnC,ADVvB,EMa2B,CAACvC,AFJ3B,KEIiB,ALHhB,EKGiC4E,KAAjB,CAAuB,+DAAvB,CAAd;ACDF,ANDA,AERc7E,AHFf,AISC,ACFFgD,EFLgBhD,CEKb,CAAC6D,EEIEgC,APXD5F,EGEiB,AEKtB,CAAS,CFLOD,CHFN,GAAG,EOWX,AFJF,EEIkB,APXDE,GAAJ,EAAZ,EGEc;AGWX,ACDA,AJVoB8C,AHDvB,AIWC,ACJFA,EFNwBA,CEMrB,CAACc,CFNuB,CHDtB3D,AKOL,CFNwB6C,AEMjB,CCKC4B,OAAJ,ADLJ,ECKiB,ANZD,AKOC,EFNF,CHDI,IAAlB,CAFD,CAIC,GKKsB;ACMjB,ACDH,ANDF,AEV4Bb,ACDZ,ACQhB/D,CDRD,CDC6B+D,AEO5B/D,MAAM,CAAC+C,EJGEO,AEV4B,EGYzBwB,AHZgBf,EEO5B,GJGA,CAAiBR,IKEK,CAACqB,CLFvB,EACA,IKC8B,CAAC,CAAD,CAAR,CAAjB;AACD,ALDH1B,AEZa,AHEd,AKMA,CAFD,GJMEA,MAAM,CDVE9C,ECUCC,QAAQ,CAACoB,EDVnB,GACA,QCSU,CAAuB8B,MAAvB,CAAT;AKEC,ACDDsC,ANAA,ACHD7B,AFNC3D,EOSAwF,ALHD7B,EFNC3D,KEMM,CAACmD,EKGG,APTF,CAAClD,EOSIyF,AHAAhC,CFHd,GAAiB,MKGO,CAAC,GPTxB,CAA0B,CEO3B,EFPC,EAA+BxD,GOSK,IPTpC,CAAuC,UAAAC,EAAE,EAAI;AOU3C,ALFF,AFPCA,MAAAA,EOSKwF,APTH,CAACvF,IOSO,GAAGJ,APTb,GAAaK,KOSQ,CAACJ,OPTtB,SOSa,CAA0B,wBAA1B,CAAZ;ADEF,ALDD,ACFC,AFPC,GEIF,EFNC,IMYO,ELDCkD,CKCR,KLDD,CAAgBC,OAAhB,EACA;AKCA,ACFG,ANEFP,ACFD,IDECA,KMFO,CNED,CAACQ,EMFIuC,CAAC,GAAG,CAAb,EAAgBA,ANElB,CMFmB,ENEAxC,CMFGuC,KAAK,CAAC7D,ANEF,CAACqB,KMFzB,CNEiB,CMFiByC,CAAC,ANErC,EMFE,EAAuC;AACrC,ANGJxC,ADXA,ICWAA,IDXGtD,EOQK8E,CNGD,CAACtB,IMHM,ANGd,CMHemB,ENAhB,ADRC,CCaA,CDZA,MOOQ,CAAkBkB,KAAK,CAACC,CAAD,CAAL,CAAS9E,IAA3B,MAAqC8D,MAAM,CAACR,YAAP,EAAzC,EAAgE;ADGtE,ACFQU,APPLhF,MAAAA,EOOKgF,CDECL,QNTK,COOI,CDElB,ACFmBkB,CDECrE,ANTH,GMSjB,CCFwB,CDEC,ACFAsE,APPtB,COOqB,CAAN,CAAV;ADGN,ACFK,ANILrC,ADVCjD,ICUDiD,EDVCjD,GMQM,CAAC,ALEF,CAACsC,IKFMtB,ANRH,CAACf,CCUE,CKFN,ALEO,CAAD,CKFKmE,ALEZ,CAAN,CDViB,CAAClE,IMQX,CAAmB,GNRf,CAAgBC,QAAjB,CAAT,yDMQM,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI,ANIH,ADVC,GChBH,CA4BC;ACPAkD,AFJC,EEIDA,CFrBD,CAmBC,KEEO,CAACL,IAAR,GAAe,YAAU,CAAE,CAA3B;AIKDqB,ACFIa,IAAAA,GDEG,CAACpB,MCFM,GAAG,GDEjB,CCFI,EDEmBD,kBAAvB;AACAQ,ACFG,ANIF,ACNA,GKPwB,EASpB,EDEE,ACXkB,CDWjBF,ACXN,CLOMd,EDMEJ,KCNT,CDMA,CKFD,ALEiB7C,GKFI+D,ELEpB,EACA,MKHD;ACDC,ANKC7E,ACPD,AFJA,CErBe,EAAhB,CDgCEA,KAAK,CAACmC,CDXE1B,ECWR,CAAUK,KAAV,KDXD,GACA;ACWC,ADVAA,IAAAA,KAAK,CAACC,cAAN;AOMFkF,APJE,MOII,CAAClB,CPJD/D,IAAI,EOIV,CLFe8C,AFFFhD,EOII+E,GPJC,CAAC5E,KOInB,QPJa,CAAoBC,IAApB,CAAyBC,WAAzB,EAAX;ACUD,ADTC,QAAIC,CCSE,GDTE,GAAGN,KAAK,CAACG,aAAN,CAAoBG,IAA/B;ACUAwC,ADTA,ICSAA,IAAI,ADTAvC,ECSEgC,OADA,GDRU,GACf,EAAErC,IAAI,CAACM,UAAL,kBAA0BX,MAAM,CAACC,QAAP,CAAgBW,QAA1C,MACFP,IAAI,CAACM,UAAL,mBAA2BX,MAAM,CAACC,QAAP,CAAgBW,QAA3C,EADA,CADD;ACUAsC,ADNA,ICMAA,EAAE,EAAEX,ADND9B,IAAH,EACChB,KCGK,GDHG,CAACoB,aAAT,CAAuBJ,IAAvB,EAA6BK,cAA7B,GADD,KAEK,IAAGJ,YAAH,EACJV,MAAM,CAACC,QAAP,GAAkBI,IAAlB,CADI,KAGJN,SAAS,CAACM,IAAD,CAAT;ACEDuC,ADDA,GApCF,CCqCEA,ADCD,MCDO,EAAEA;AAHF,GAAP;AAKA,CAxCS,EAAV;ADwCC,WAAS7C,SAAT,CAAmBgB,GAAnB,EACA;AACC,QAAI1B,KAAJ,ECAa+C;ADCb,QAAIpB,QAAQ,GAAGvB,QAAQ,CAACwB,aAAT,CAAuB,GAAvB,CAAf;AACCD,IAAAA,QAAQ,CAACT,IAAT,GAAgBQ,GAAhB;AACAA,IAAAA,GAAG,GAAGC,QAAQ,CAACd,QAAf;AAED,QAAG,EAAEb,KAAK,GAAG6B,SAAS,CAACH,GAAD,CAAnB,CAAH,EACC;AAED,QAAId,QAAQ,GAAG,MAAMc,GAArB;AACAf,IAAAA,MAAM,CAACC,QAAP,CAAgBQ,IAAhB,GAAuBR,QAAvB;AAEAkB,IAAAA,MAAM,CAAC9B,KAAD,CAAN;AACA;;AAED,WAAS6B,SAAT,CAAmBH,GAAnB,EACA;AAAA;AAAA;AAAA;;AAAA;AACC,2BAAe1B,KAAK,CAAC+B,IAAN,EAAf,8HACA;AAAA,YADQC,GACR;AACC,YAAI,EAAEA,GAAG,KAAK,GAAR,IAAeN,GAAG,IAAIM,GAAxB,KACJ,EAAEN,GAAG,CAACO,SAAJ,CAAc,CAAd,EAAiBD,GAAG,CAACE,MAArB,KAAgCF,GAAhC,IAAuCA,GAAG,KAAK,GAAjD,CADA,EAEC;AAED,eAAO,CAAChC,KAAK,CAACmC,GAAN,CAAUH,GAAV,CAAD,EAAiBN,GAAG,CAACU,KAAJ,CAAUJ,GAAG,CAACE,MAAJ,GAAa,CAAvB,CAAjB,CAAP;AACA;AARF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASC;AAED;;;;;AAGA,WAASG,GAAT,CAAaC,SAAb,EAAwBC,QAAxB,EACA;AAAA,2BACsBD,SAAS,CAACE,KAAV,CAAgB,IAAhB,CADtB;AAAA;AAAA,QACMC,KADN;AAAA,QACaC,KADb;;AAGC1C,IAAAA,KAAK,CAAC2C,GAAN,CAAUF,KAAV,EAAiB,CAACC,KAAK,IAAI,IAAV,EAAgBH,QAAhB,CAAjB;AACA;AAED;;;;;AAGA,WAAST,MAAT,CAAgB9B,KAAhB,EACA;AAAA,gCACqBA,KADrB;AAAA,QACMoB,IADN;AAAA,QACYsB,KADZ;;AAGCtB,IAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQsB,KAAK,IAAItB,IAAI,CAAC,CAAD,CAArB;AACA;;AAEDT,EAAAA,MAAM,CAACiC,MAAP,GAAgBzC,aAAhB;AAEA,SAAO;AACN0C,IAAAA,IAAI,EAAER,GADA;AAENS,IAAAA,MAAM,EAAE3C;AAFF,GAAP;AAIA,CA9FY,EAAb;;eAgGeJ","file":"script.7c337ef3.js","sourceRoot":"..\\src","sourcesContent":["var router = function()\r\n{\r\n\tvar stack = new Map();\r\n\tvar initialHash = true;\r\n\r\n\t// set all <a> events\r\n\tfunction updateDOMlist()\r\n\t{\r\n\t\tdocument.querySelectorAll(\"a\").forEach(el => {\r\n\t\t\tel.onclick = anchorHandler;\r\n\t\t});\r\n\r\n\t\tif(initialHash)\r\n\t\t{\r\n\t\t\tinitialHash = false;\r\n\t\t\t\r\n\t\t\tupdateURL(window.location.pathname);\r\n\t\t}\r\n\t}\r\n\r\n\t// <a> click event\r\n\tfunction anchorHandler()\r\n\t{\r\n\t\tevent.preventDefault();\r\n\r\n\t\tvar path = event.currentTarget.href.toLowerCase();\r\n\t\tvar hash = event.currentTarget.hash;\r\n\t\tvar linkExternal = \r\n\t\t\t!(path.startsWith(`http://${window.location.hostname}`) || \r\n\t\t\tpath.startsWith(`https://${window.location.hostname}`));\r\n\r\n\t\tif(hash)\r\n\t\t\tdocument.querySelector(hash).scrollIntoView();\r\n\t\telse if(linkExternal)\r\n\t\t\twindow.location = path;\r\n\t\telse\r\n\t\t\tupdateURL(path);\r\n\t}\r\n\r\n\t// change current url and emmiter him\r\n\tfunction updateURL(url)\r\n\t{\r\n\t\tvar stack;\r\n\t\tvar bufferEl = document.createElement(\"a\");\r\n\t\t\tbufferEl.href = url;\r\n\t\t\turl = bufferEl.pathname;\r\n\r\n\t\tif(!(stack = checkHash(url)))\r\n\t\t\treturn;\r\n\r\n\t\tvar location = \"#\" + url;\r\n\t\twindow.location.hash = location;\r\n\r\n\t\temiter(stack);\r\n\t}\r\n\r\n\tfunction checkHash(url)\r\n\t{\r\n\t\tfor(var key of stack.keys())\r\n\t\t{\r\n\t\t\tif (!(key === \"/\" && url == key) &&\r\n\t\t\t!(url.substring(0, key.length) == key && key !== \"/\"))\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\treturn [stack.get(key), url.slice(key.length + 1)];\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n\t* @param {string} routeName\r\n\t*/\r\n\tfunction add(routeName, callback)\r\n\t{\r\n\t\tvar [route, param] = routeName.split(\"/:\");\r\n\r\n\t\tstack.set(route, [param || null, callback]);\r\n\t}\r\n\r\n\t/*\r\n\t* @param {string} stackName\r\n\t*/\r\n\tfunction emiter(stack)\r\n\t{\r\n\t\tvar [hash, param] = stack;\r\n\r\n\t\thash[1](param || hash[0]);\r\n\t}\r\n\r\n\twindow.onload = updateDOMlist;\r\n\r\n\treturn {\r\n\t\tpage: add,\r\n\t\tupdate: updateDOMlist,\r\n\t}\r\n}();\r\n\r\nexport default router;","var app = function()\r\n{\r\n\tvar stack = new Map();\r\n\tvar events = [\"render\"];\r\n\tvar __root;\r\n\r\n\tfunction addObserver(eventName, callback)\r\n\t{\r\n\t\tif(events.indexOf(eventName))\r\n\t\t\treturn;\r\n\r\n\t\tstack.set(eventName, callback);\r\n\t}\r\n\r\n\tfunction setRoot(rootEl)\r\n\t{\r\n\t\t__root = document.querySelector(rootEl);\r\n\t}\r\n\r\n\tfunction render(element)\r\n\t{\r\n\t\t__root.innerHTML = element.render();\r\n\r\n\t\telement.init();\r\n\r\n\t\t// send render event\r\n\t\tsender(events[0]);\r\n\t}\r\n\r\n\t// event sender\r\n\tfunction sender(event)\r\n\t{\r\n\t\tstack.get(event)();\r\n\t}\r\n\r\n\treturn {\r\n\t\troot: setRoot,\r\n\t\ton: addObserver,\r\n\t\trender: render\r\n\t}\r\n}();\r\n\r\nexport default app;","var component = function()\r\n{\r\n\t\"use strict\";\r\n\r\n\tvar context = {};\r\n\r\n\tcontext.create = function(customCtx)\r\n\t{\r\n\t\tObject.assign(context, customCtx);\r\n\t}\r\n\r\n\t/*\r\n\t* Render function to override\r\n\t*/\r\n\tcontext.render = function()\r\n\t{\r\n\t\treturn `<div></div>`\r\n\t};\r\n\r\n\t/*\r\n\t* init function to override\r\n\t*/\r\n\tcontext.init = function(){};\r\n\r\n\treturn context;\r\n}();\r\n\r\nexport default component;","import router from \"./router.js\";\r\nimport app from \"./app.js\";\r\nimport component from \"./component.js\";\r\n\r\nexport default {router, app, component};","import component from \"../../../core/component\";\r\nimport css from \"../style/main.css\";\r\n\r\ncomponent.create({\r\n\tinit: function()\r\n\t{\r\n\r\n\t},\r\n\r\n\trender: function()\r\n\t{\r\n\t\treturn `\r\n\t\t\t<div>LOL</div>\r\n\t\t`\r\n\t}\r\n});\r\n\r\nexport default component","import core from \"../../../core\";\r\n// // import initial page\r\nimport main from \"../pages/main.js\";\r\n\r\n// initial route\r\nvar {app, router} = core;\r\nrouter.page(\"/\", () => app.render(main));\r\n\r\n// app\r\napp.root(\"#root\");\r\napp.on(\"render\", () => {\r\n\trouter.update();\r\n});","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}